# Automation Generator Agent - Prompt Templates

> Ready-to-use prompts for invoking the Automation Generator Agent with AI-powered self-healing

---

## Quick Start Prompt

```
I have CSV test cases ready for automation generation.

Test Case File: manual-tests/{AppName}_Manual_Test_Cases.csv
Base URL: {YOUR_APP_URL}

Please:
1. Parse the CSV test cases
2. Show me what will be generated (pages, tests, data files, self-healing utilities)
3. After my confirmation, generate the complete Playwright automation framework with AI Observer
4. Save to playwright-projects/{AppName}/
```

---

## Detailed Generation Request

```
CONTEXT:
I have CSV test cases generated by the Test Case Generator Agent for {APPLICATION_NAME}.

INPUT:
- Test Case File: manual-tests/{AppName}_Manual_Test_Cases.csv
- Base URL: {BASE_URL}
- Application Type: {Web App / E-Commerce / SaaS / CMS / etc.}

REQUIREMENTS:
1. Parse all test cases from CSV (columns: Test_ID, Module, Test_Title, Test_Type, Priority, Precondition, Test_Data, Steps, Expected_Result, Tags)
2. Generate Page Object Model classes with self-healing integration
3. Create data-driven test specifications from parsed Test_Data
4. Include JSON test data files organized by test type
5. Generate 4-tier self-healing framework (Cache → Fallbacks → AI Visual → AI DOM)
6. Generate all configuration files including .env.example for API key

OUTPUT:
- Complete Playwright project in: playwright-projects/{AppName}/
- Project should be ready to run with: npm install && npm test
- Self-healing utilities in: utils/ folder

PREFERENCES:
- Browser: Chromium only
- TypeScript strict mode
- Include AI Observer self-healing: Yes
- Generate healing reports: Yes
- Generate README: Yes
```

---

## Generate from Specific Module

```
Please generate Playwright automation for just the {MODULE_NAME} module.

Input: manual-tests/{AppName}_Manual_Test_Cases.csv
Focus: Rows where Module = "{MODULE_NAME}"

Generate:
- {ModuleName}Page.ts (with self-healing integration)
- {module}.spec.ts
- {module}Data.json
- Element definitions in ElementRegistry.ts

Skip other modules for now.
```

---

## Update Existing Project

```
I have an existing Playwright project at: playwright-projects/{AppName}/

New test cases have been added to: manual-tests/{AppName}_Manual_Test_Cases.txt

Please:
1. Identify new test cases (not yet automated)
2. Update existing page objects if needed
3. Add new test data to existing JSON files
4. Generate new test specs for new tests
5. Preserve existing code
```

---

## Generate with Specific Options

### Full Self-Healing (Recommended)
```
Generate Playwright automation with full AI-powered self-healing.

Input: manual-tests/{AppName}_Manual_Test_Cases.csv

Options:
- Self-healing: Full 4-tier (Cache → Fallbacks → AI Visual → AI DOM)
- AI Observer: Enabled (requires ANTHROPIC_API_KEY)
- Healing reports: Yes
- Fallback selectors: 5+ per element

Generate robust page objects with complete self-healing capabilities.
```

### Without AI Healing (Fallbacks Only)
```
Generate Playwright automation with fallback-only self-healing.

Input: manual-tests/{AppName}_Manual_Test_Cases.csv

Options:
- Self-healing: 2-tier only (Cache → Fallbacks)
- AI Observer: Disabled (no API key required)
- Standard Playwright locators with fallbacks

Generate page objects with fallback selectors but no AI integration.
```

### Multi-Browser Support
```
Generate Playwright automation with multi-browser support.

Input: manual-tests/{AppName}_Manual_Test_Cases.csv

Configure for:
- Chromium
- Firefox
- WebKit (Safari)

Include self-healing that works across all browsers.
Update playwright.config.ts to run tests on all browsers.
```

### With Custom Output Location
```
Generate Playwright automation to a custom location.

Input: manual-tests/{AppName}_Manual_Test_Cases.csv
Output: {CUSTOM_PATH}/{project-name}/

Generate complete project structure with self-healing at the specified location.
```

### Tag-Based Test Organization
```
Generate Playwright automation with tag-based test filtering.

Input: manual-tests/{AppName}_Manual_Test_Cases.csv

Organize tests by Tags column from CSV:
- smoke tests: @smoke
- regression tests: @regression
- security tests: @security

Generate npm scripts for tag-based execution:
- npm run test:smoke
- npm run test:regression
- npm run test:security
```

---

## Review Before Generation

```
Before generating any code, please analyze and show me:

Input: manual-tests/{AppName}_Manual_Test_Cases.csv

Analysis Required:
1. Summary of test cases parsed from CSV
2. List of pages/modules identified (from Module column)
3. Test distribution by Test_Type
4. Tags summary for test organization
5. Files that will be generated (including self-healing utilities)
6. Element definitions planned for ElementRegistry
7. Any potential issues or gaps

Wait for my approval before proceeding with code generation.
```

---

## Generate Only Specific File Types

### Self-Healing Utilities Only
```
Generate only self-healing framework files.

Output: playwright-projects/{AppName}/utils/

Generate:
- SelfHealingLocator.ts (4-tier healing engine)
- AIObserver.ts (Claude Vision integration)
- HealingReporter.ts (statistics and reports)
- ElementRegistry.ts (element definitions template)

I'll integrate these into my existing page objects.
```

### Page Objects Only
```
Generate only Page Object files from: manual-tests/{AppName}_Manual_Test_Cases.csv

Output: playwright-projects/{AppName}/pages/

Include self-healing integration in page objects.
I'll create the test specs myself.
```

### Test Data Only
```
Generate only JSON test data files from: manual-tests/{AppName}_Manual_Test_Cases.csv

Output: playwright-projects/{AppName}/data/

Parse Test_Data column from CSV into properly structured JSON files.
Organize by Test_Type (validScenarios, invalidScenarios, etc.)
```

### Test Specs Only
```
I already have page objects at: playwright-projects/{AppName}/pages/

Generate only test specifications from: manual-tests/{AppName}_Manual_Test_Cases.csv

Output: playwright-projects/{AppName}/tests/

Import from existing page objects.
Include healing report generation in afterAll hooks.
```

### Element Registry Only
```
Analyze: manual-tests/{AppName}_Manual_Test_Cases.csv

Generate only ElementRegistry.ts with:
- Element definitions for each identified page
- Primary selectors based on Steps column
- 5+ fallback selectors per element
- Element descriptions for AI healing

Output: playwright-projects/{AppName}/utils/ElementRegistry.ts
```

---

## E-Commerce Specific

```
Generate e-commerce automation framework.

Input: manual-tests/{StoreName}_Manual_Test_Cases.txt
Base URL: {STORE_URL}

Expected modules:
- Product catalog (TC_PROD_*)
- Shopping cart (TC_CART_*)
- Checkout flow (TC_CHKOUT_*)
- Payment (TC_PAY_*)
- User account (TC_AUTH_*, TC_PROF_*)

Generate with:
- Multi-step checkout page objects
- Cart state management helpers
- Product data fixtures
- E2E purchase flow tests
```

---

## SaaS Dashboard Specific

```
Generate SaaS dashboard automation framework.

Input: manual-tests/{AppName}_Manual_Test_Cases.txt
Base URL: {APP_URL}

Expected modules:
- Authentication with SSO
- Dashboard widgets
- Data tables with CRUD
- Settings/Configuration
- Reports/Analytics

Include:
- Table component helpers
- Filter/Sort utilities
- Data export verification
- Chart/Widget assertions
```

---

## CI/CD Ready Generation

```
Generate CI/CD ready Playwright project.

Input: manual-tests/{AppName}_Manual_Test_Cases.txt

Include:
- GitHub Actions workflow file
- Docker configuration
- Environment-specific configs (dev, staging, prod)
- Parallel test execution setup
- Report artifacts configuration

Output structure should be ready for immediate CI integration.
```

---

## Modification Requests

### After Generation - Add More Tests
```
The automation project at playwright-projects/{AppName}/ is generated.

Please add tests for these new manual test cases:
[Paste new test cases or reference updated file]

Update:
- Existing page objects if new elements needed
- Add to existing test data JSON
- Create new test specs
```

### After Generation - Refactor Page Object
```
Please refactor {PageName}Page.ts at: playwright-projects/{AppName}/pages/

Changes needed:
- Add method for {new_action}
- Add locator for {new_element}
- Improve error handling in {method_name}
```

### After Generation - Fix Locators
```
Some locators in the generated code aren't working.

Page: {PageName}Page.ts
Issue: {element} locator not finding element

Actual element HTML: {paste_html}

Please update the locator strategy for this element.
```

---

## Example Complete Interaction

### User Request
```
I have manual test cases ready. Please generate complete Playwright automation.

File: manual-tests/SampleApp_Manual_Test_Cases.txt
URL: https://sample-app.example.com

Generate everything and show me how to run it.
```

### Agent Response (Summarized)
```
I've analyzed the manual test cases. Here's what I'll generate:

## Generation Plan

### Pages (3 files)
- BasePage.ts - Common methods
- LoginPage.ts - Authentication page
- RegistrationPage.ts - Registration page

### Tests (2 files)
- auth.spec.ts - 20 test cases
- registration.spec.ts - 12 test cases

### Data (2 files)
- authData.json - Login test data
- registrationData.json - Registration test data

### Utilities (3 files)
- SelfHealingLocator.ts
- AIObserver.ts
- TestHelpers.ts

### Config (5 files)
- playwright.config.ts
- tsconfig.json
- package.json
- .env.example
- README.md

**Proceed with generation?**
```

### After Confirmation
```
✅ Playwright automation generated successfully!

Location: playwright-projects/SampleApp/

## Quick Start

cd playwright-projects/SampleApp
npm install
npx playwright install
npm test

## Project Structure
[Shows generated structure]

## Test Coverage
- Total tests: 32
- Authentication: 20 tests
- Registration: 12 tests

All test case IDs from manual tests are preserved in automation.
```

---

## Tips for Best Results

1. **Use clean CSV test files** - Ensure the input CSV follows the expected column format
2. **Provide accurate Base URL** - This is used in config and navigation
3. **Review generation plan** - Check the plan before confirming generation
4. **Test incrementally** - Generate and test one module at a time for large projects
5. **Configure ANTHROPIC_API_KEY** - For full AI-powered self-healing capabilities
6. **Run healing demo first** - Use `npm run test:healing` to verify self-healing works
7. **Review healing reports** - Check `reports/healing/` for maintenance insights
8. **Add real test data** - Replace placeholder values with actual test credentials
9. **Run in headed mode first** - Use `npm run test:headed` to verify visually

---

## Self-Healing Best Practices

1. **Element Descriptions** - Provide clear, unique descriptions for AI to identify elements
2. **Fallback Diversity** - Use different selector strategies (id, class, text, aria-label)
3. **Regular Report Review** - Monitor healing reports to identify fragile selectors
4. **Update Primary Selectors** - When healing consistently uses a fallback, update the primary
5. **Test Without API** - Verify tests work with AI disabled (fallbacks only mode)
